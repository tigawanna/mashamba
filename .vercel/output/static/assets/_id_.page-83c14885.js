import{_ as p,b as u,L as w,C as N}from"./client-bdf63c2a.js";import{a as i,j as r}from"./jsx-runtime-6a3157d9.js";import{f as v,e as I,g as _}from"./index-6932149c.js";import{r as y,T as a}from"./index-b8d29899.js";import{m as f}from"./pocketbase-94492600.js";import{r as x}from"./index-e76fa941.js";import{G as j}from"./GoodImage-c7902c59.js";var h=y.GenIcon,G=function(n){return h({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"polyline",attr:{fill:"none",stroke:"#000",strokeWidth:"2",points:"7 2 17 12 7 22"}}]})(n)},k=function(n){return h({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"polyline",attr:{fill:"none",stroke:"#000",strokeWidth:"2",points:"7 2 17 12 7 22",transform:"matrix(-1 0 0 1 24 0)"}}]})(n)};const L=x.lazy(()=>p(()=>import("./ReactLeafletMapCard-7d109b37.js"),["assets/ReactLeafletMapCard-7d109b37.js","assets/jsx-runtime-6a3157d9.js","assets/index-e76fa941.js","assets/useGeoLocation-7b1cbf9f.js","assets/client-bdf63c2a.js","assets/ReactLeafletMapCard-3625237c.css"])),C=function({params:n}){var d;const{data:t,refetch:P}=u(["0",0,[n]],{refetchOnWindowFocus:!0,refetchOnReconnect:!0}),[l,c]=x.useState({img:(d=t==null?void 0:t.items[0])==null?void 0:d.images[0],idx:0});if(!t)return i("div",{children:"Loading..."});const e=t.items[0],m=f("listings",e==null?void 0:e.id,l.img),g=f("listings",e.id,e.images[1]);return i("main",{className:"w-full h-full min-h-screen flex flex-col items-center justify-center",children:r("div",{className:"w-full h-full flex flex-col items-center justify-center gap-2",children:[i(w,{className:"text-lg text-purple-900 hover:text-purple-500",href:`../admin/${e==null?void 0:e.id}`,children:" Edit "}),r("div",{className:"w-[90%]  flex flex-col md:flex-row  items-center justify-center rounded-2xl m-2",children:[r("div",{className:" w-[90%] md:w-[50%] h-[50%] flex items-center justify-center gap-2 ",children:[l.idx!==0?i(a,{Icon:k,iconAction:()=>{c(s=>s.idx>0?{img:t.items[0].images[s.idx-1],idx:s.idx-1}:s)}}):null,i("div",{className:"w-[90%] h-[30%]",children:i(j,{props:{className:"w-[60%]",src:m,alt:e==null?void 0:e.location},placeholderSrc:m?g:void 0,height:"300px",width:"600px"})}),l.idx!==t.items[0].images.length-1?i(a,{Icon:G,iconAction:()=>{c(s=>s.idx<t.items[0].images.length-1?{img:t.items[0].images[s.idx+1],idx:s.idx+1}:s)}}):null]}),r("div",{className:"font-serif p-5 w-[90%] md:w-[40%]",children:[i("h1",{className:"text-2xl font-bold",children:e.location}),i("p",{className:"text-sm",children:e.description}),r("div",{className:"border-t ",children:[r("p",{className:"text-sm font-semibold",children:["Owner: ",e.expand.owner.name]}),r("p",{className:"text-sm flex gap-1",children:[i(a,{Icon:v}),e.expand.owner.phone]}),r("p",{className:"text-sm flex gap-1",children:[i(a,{Icon:I}),e.expand.owner.whatsapp]}),r("p",{className:"text-sm flex gap-1",children:[i(a,{Icon:_}),e.expand.owner.email]})]})]})]},e.id),i("div",{className:"w-full flex flex-row  items-center justify-center",children:i("div",{className:"w-[90%] md:w-[70%] p-5 ",children:i(N,{fallback:"loading",children:i(L,{display:!1,coords:{lat:e.longitude,lng:e.longitude}})})})})]})})};export{C as default};
